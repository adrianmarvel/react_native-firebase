{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\mahasiswa react - firebase\\\\mahasiswa\\\\App.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { StatusBar } from 'expo-status-bar';\nimport React, { Component, useEffect, useState } from 'react';\nimport { render } from 'react-dom';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { FAB } from 'react-native-paper';\nimport { db } from \"./firebase\";\nimport { collection, getDocs, addDoc, deleteDoc, doc } from 'firebase/firestore';\n\nvar wait = function wait(timeout) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, timeout);\n  });\n};\n\nfunction App() {\n  var _this = this;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      namaBaru = _useState2[0],\n      setNamaBaru = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      nimBaru = _useState4[0],\n      setNimBaru = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      editNama = _useState6[0],\n      setNama = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      users = _useState8[0],\n      setUsers = _useState8[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      refreshing = _React$useState2[0],\n      setRefreshing = _React$useState2[1];\n\n  var usersCollectionRef = collection(db, \"mahasiswa\");\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      modalVisible = _useState10[0],\n      setModalVisible = _useState10[1];\n\n  var modalBackgroundStyle = {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\n  };\n\n  var klikSimpan = function klikSimpan() {\n    var data;\n    return _regeneratorRuntime.async(function klikSimpan$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(addDoc(usersCollectionRef, {\n              nama: namaBaru,\n              nim: nimBaru\n            }));\n\n          case 2:\n            setModalVisible(false);\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(getDocs(usersCollectionRef));\n\n          case 5:\n            data = _context.sent;\n            setUsers(data.docs.map(function (doc) {\n              return _objectSpread(_objectSpread({}, doc.data()), {}, {\n                Id: doc.id\n              });\n            }));\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var deleteUser = function deleteUser(id) {\n    var userDoc, data;\n    return _regeneratorRuntime.async(function deleteUser$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            userDoc = doc(db, \"mahasiswa\", id);\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(deleteDoc(userDoc));\n\n          case 3:\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(getDocs(usersCollectionRef));\n\n          case 5:\n            data = _context2.sent;\n            setUsers(data.docs.map(function (doc) {\n              return _objectSpread(_objectSpread({}, doc.data()), {}, {\n                Id: doc.id\n              });\n            }));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var updateUser = function updateUser(id, nama, nim) {\n    return _regeneratorRuntime.async(function updateUser$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            setModalVisible(true);\n\n            setNama: nama;\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    var getUsers = function getUsers() {\n      var data;\n      return _regeneratorRuntime.async(function getUsers$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(getDocs(usersCollectionRef));\n\n            case 2:\n              data = _context4.sent;\n              setUsers(data.docs.map(function (doc) {\n                return _objectSpread(_objectSpread({}, doc.data()), {}, {\n                  Id: doc.id\n                });\n              }));\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    getUsers();\n  }, []);\n  var onRefresh = React.useCallback(function () {\n    setRefreshing(true);\n    wait(2000).then(function () {\n      return setRefreshing(false);\n    });\n  }, []);\n  return React.createElement(SafeAreaView, {\n    style: styles.safeAreaView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  }, React.createElement(ScrollView, {\n    style: styles.scrollView,\n    refreshControl: React.createElement(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: onRefresh,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.font,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Data Mahasiswa\"), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, users.map(function (user) {\n    return React.createElement(View, {\n      style: [styles.data, {\n        backgroundColor: 'hsl(' + Math.floor(Math.random() * 360) + ',80%,90%)'\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: styles.labelNama,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 23\n      }\n    }, user.nama), React.createElement(Text, {\n      style: styles.labelNim,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 23\n      }\n    }, user.nim)), React.createElement(View, {\n      style: styles.iconPack,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return updateUser(user.Id, user.nama, user.nim);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 23\n      }\n    }, React.createElement(Image, {\n      style: styles.edit,\n      source: require(\"./src/icon/edit.png\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    })), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return deleteUser(user.Id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 23\n      }\n    }, React.createElement(Image, {\n      style: styles.delete,\n      source: require(\"./src/icon/trash.png\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }))));\n  })))), React.createElement(View, {\n    style: styles.centeredView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      Alert.alert(\"Modal has been closed.\");\n      setModalVisible(!modalVisible);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: [styles.centeredView, modalBackgroundStyle],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: styles.modalView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.titleModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Masukan data mahasiswa\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Nama\",\n    value: editNama,\n    onChangeText: setNamaBaru,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"NIM\",\n    value: nimBaru,\n    keyboardType: \"numeric\",\n    onChangeText: setNimBaru,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }), React.createElement(View, {\n    style: styles.fixToText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }, React.createElement(Button, {\n    title: \"Batal\",\n    color: \"red\",\n    onPress: function onPress() {\n      return setModalVisible(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }), React.createElement(Button, {\n    title: \"Simpan\",\n    onPress: klikSimpan,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  })))))), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, React.createElement(FAB, {\n    style: styles.fab,\n    medium: true,\n    icon: \"plus\",\n    color: \"white\",\n    onPress: function onPress() {\n      return setModalVisible(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  })));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 10\n  },\n  safeAreaView: {\n    height: 650\n  },\n  scrollView: {},\n  font: {\n    textAlign: 'center',\n    fontSize: 32,\n    marginVertical: 30\n  },\n  data: {\n    flex: 1,\n    flexDirection: 'row',\n    margin: 10,\n    marginHorizontal: 20,\n    padding: 15,\n    borderRadius: 10\n  },\n  labelNama: {\n    fontSize: 20,\n    color: 'black'\n  },\n  labelNim: {\n    color: '#808080'\n  },\n  fab: {\n    position: 'absolute',\n    marginRight: 30,\n    right: 0,\n    bottom: 30\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  titleModal: {\n    fontSize: 20\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  input: {\n    width: 250,\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  },\n  fixToText: {\n    width: 200,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  iconPack: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center'\n  },\n  edit: {\n    width: 30,\n    height: 30,\n    marginRight: 10\n  },\n  delete: {\n    width: 30,\n    height: 30\n  }\n});\nexport default App;","map":{"version":3,"sources":["C:/xampp/htdocs/mahasiswa react - firebase/mahasiswa/App.js"],"names":["StatusBar","React","Component","useEffect","useState","render","FAB","db","collection","getDocs","addDoc","deleteDoc","doc","wait","timeout","Promise","resolve","setTimeout","App","namaBaru","setNamaBaru","nimBaru","setNimBaru","editNama","setNama","users","setUsers","refreshing","setRefreshing","usersCollectionRef","modalVisible","setModalVisible","modalBackgroundStyle","backgroundColor","klikSimpan","nama","nim","data","docs","map","Id","id","deleteUser","userDoc","updateUser","getUsers","onRefresh","useCallback","then","styles","safeAreaView","scrollView","container","font","user","Math","floor","random","labelNama","labelNim","iconPack","edit","require","delete","centeredView","Alert","alert","modalView","titleModal","input","fixToText","fab","StyleSheet","create","marginTop","height","textAlign","fontSize","marginVertical","flex","flexDirection","margin","marginHorizontal","padding","borderRadius","color","position","marginRight","right","bottom","justifyContent","alignItems","shadowColor","shadowOffset","width","shadowOpacity","shadowRadius","elevation","borderWidth"],"mappings":";;;;;;;;;AAAA,SAASA,SAAT,QAA0B,iBAA1B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,SAASC,MAAT,QAAuB,WAAvB;;;;;;;;;;;;;;AAEA,SAASC,GAAT,QAAoB,oBAApB;AACA,SAASC,EAAT;AACA,SAASC,UAAT,EAAqBC,OAArB,EAA8BC,MAA9B,EAAsCC,SAAtC,EAAiDC,GAAjD,QAA4D,oBAA5D;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,OAAD,EAAa;AACxB,SAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO;AAAA,WAAIC,UAAU,CAACD,OAAD,EAAUF,OAAV,CAAd;AAAA,GAAnB,CAAP;AACD,CAFD;;AAIA,SAASI,GAAT,GAAc;AAAA;;AACZ,kBAAgCd,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOe,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAA8BhB,QAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOiB,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAA4BlB,QAAQ,CAAC,EAAD,CAApC;AAAA;AAAA,MAAOmB,QAAP;AAAA,MAAiBC,OAAjB;;AACA,mBAA0BpB,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOqB,KAAP;AAAA,MAAcC,QAAd;;AACA,wBAAoCzB,KAAK,CAACG,QAAN,CAAe,KAAf,CAApC;AAAA;AAAA,MAAOuB,UAAP;AAAA,MAAmBC,aAAnB;;AACA,MAAMC,kBAAkB,GAAGrB,UAAU,CAACD,EAAD,EAAK,WAAL,CAArC;;AACA,mBAAwCH,QAAQ,CAAC,KAAD,CAAhD;AAAA;AAAA,MAAO0B,YAAP;AAAA,MAAqBC,eAArB;;AACA,MAAIC,oBAAoB,GAAG;AACzBC,IAAAA,eAAe,EAAE;AADQ,GAA3B;;AAIA,MAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACXxB,MAAM,CAACmB,kBAAD,EAAqB;AAAEM,cAAAA,IAAI,EAAEhB,QAAR;AAAkBiB,cAAAA,GAAG,EAAEf;AAAvB,aAArB,CADK;;AAAA;AAEjBU,YAAAA,eAAe,CAAC,KAAD,CAAf;AAFiB;AAAA,6CAGEtB,OAAO,CAACoB,kBAAD,CAHT;;AAAA;AAGXQ,YAAAA,IAHW;AAIjBX,YAAAA,QAAQ,CAACW,IAAI,CAACC,IAAL,CAAUC,GAAV,CAAc,UAAC3B,GAAD;AAAA,qDAAeA,GAAG,CAACyB,IAAJ,EAAf;AAA2BG,gBAAAA,EAAE,EAAC5B,GAAG,CAAC6B;AAAlC;AAAA,aAAd,CAAD,CAAR;;AAJiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAOA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAAOD,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACXE,YAAAA,OADW,GACD/B,GAAG,CAACL,EAAD,EAAK,WAAL,EAAkBkC,EAAlB,CADF;AAAA;AAAA,6CAEX9B,SAAS,CAACgC,OAAD,CAFE;;AAAA;AAAA;AAAA,6CAGElC,OAAO,CAACoB,kBAAD,CAHT;;AAAA;AAGXQ,YAAAA,IAHW;AAIjBX,YAAAA,QAAQ,CAACW,IAAI,CAACC,IAAL,CAAUC,GAAV,CAAc,UAAC3B,GAAD;AAAA,qDAAeA,GAAG,CAACyB,IAAJ,EAAf;AAA2BG,gBAAAA,EAAE,EAAC5B,GAAG,CAAC6B;AAAlC;AAAA,aAAd,CAAD,CAAR;;AAJiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAOA,MAAMG,UAAU,GAAG,SAAbA,UAAa,CAAOH,EAAP,EAAWN,IAAX,EAAiBC,GAAjB;AAAA;AAAA;AAAA;AAAA;AACjBL,YAAAA,eAAe,CAAC,IAAD,CAAf;;AACAP,YAAAA,OAAO,EAAEW,IAAI;;AAFI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAKAhC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAM0C,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACIpC,OAAO,CAACoB,kBAAD,CADX;;AAAA;AACTQ,cAAAA,IADS;AAEfX,cAAAA,QAAQ,CAACW,IAAI,CAACC,IAAL,CAAUC,GAAV,CAAc,UAAC3B,GAAD;AAAA,uDAAeA,GAAG,CAACyB,IAAJ,EAAf;AAA2BG,kBAAAA,EAAE,EAAC5B,GAAG,CAAC6B;AAAlC;AAAA,eAAd,CAAD,CAAR;;AAFe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAjB;;AAKAI,IAAAA,QAAQ;AACT,GAPQ,EAON,EAPM,CAAT;AASA,MAAMC,SAAS,GAAG7C,KAAK,CAAC8C,WAAN,CAAkB,YAAM;AACxCnB,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAf,IAAAA,IAAI,CAAC,IAAD,CAAJ,CAAWmC,IAAX,CAAgB;AAAA,aAAMpB,aAAa,CAAC,KAAD,CAAnB;AAAA,KAAhB;AACD,GAHiB,EAGf,EAHe,CAAlB;AAMA,SACG,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEqB,MAAM,CAACC,YAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAED,MAAM,CAACE,UAA1B;AACE,IAAA,cAAc,EACZ,oBAAC,cAAD;AACE,MAAA,UAAU,EAAExB,UADd;AAEE,MAAA,SAAS,EAAEmB,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEG,MAAM,CAACG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEH,MAAM,CAACI,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5B,KAAK,CAACc,GAAN,CAAU,UAACe,IAAD,EAAU;AACnB,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACL,MAAM,CAACZ,IAAR,EAAa;AAACJ,QAAAA,eAAe,EAAE,SAAUsB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,GAA3B,CAAV,GAA6C;AAA/D,OAAb,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAER,MAAM,CAACS,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgCJ,IAAI,CAACnB,IAArC,CADF,EAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEc,MAAM,CAACU,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BL,IAAI,CAAClB,GAApC,CAFF,CADF,EAKE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEa,MAAM,CAACW,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAE;AAAA,eAAOhB,UAAU,CAACU,IAAI,CAACd,EAAN,EAAUc,IAAI,CAACnB,IAAf,EAAqBmB,IAAI,CAAClB,GAA1B,CAAjB;AAAA,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEa,MAAM,CAACY,IAArB;AAA2B,MAAA,MAAM,EAAEC,OAAO,uBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAE;AAAA,eAAMpB,UAAU,CAACY,IAAI,CAACd,EAAN,CAAhB;AAAA,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAES,MAAM,CAACc,MAArB;AAA6B,MAAA,MAAM,EAAED,OAAO,wBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,CALF,CADF;AAgBD,GAjBA,CADH,CAFF,CARF,CADH,EAiCG,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEb,MAAM,CAACe,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AACA,IAAA,aAAa,EAAC,MADd;AAEA,IAAA,WAAW,EAAE,IAFb;AAGA,IAAA,OAAO,EAAElC,YAHT;AAIA,IAAA,cAAc,EAAE,0BAAM;AACpBmC,MAAAA,KAAK,CAACC,KAAN,CAAY,wBAAZ;AACAnC,MAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AACD,KAPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAACmB,MAAM,CAACe,YAAR,EAAqBhC,oBAArB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEiB,MAAM,CAACkB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAElB,MAAM,CAACmB,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADA,EAEE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAEnB,MAAM,CAACoB,KADhB;AAEE,IAAA,WAAW,EAAC,MAFd;AAGE,IAAA,KAAK,EAAE9C,QAHT;AAIE,IAAA,YAAY,EAAEH,WAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAE6B,MAAM,CAACoB,KADhB;AAEE,IAAA,WAAW,EAAC,KAFd;AAGE,IAAA,KAAK,EAAEhD,OAHT;AAIE,IAAA,YAAY,EAAC,SAJf;AAKE,IAAA,YAAY,EAAEC,UALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EAeE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE2B,MAAM,CAACqB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAC,OADR;AAEE,IAAA,KAAK,EAAC,KAFR;AAGE,IAAA,OAAO,EAAE;AAAA,aAAMvC,eAAe,CAAC,KAAD,CAArB;AAAA,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAME,oBAAC,MAAD;AACE,IAAA,KAAK,EAAC,QADR;AAEE,IAAA,OAAO,EAAEG,UAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAfF,CADF,CATF,CADJ,CAjCH,EA0EK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,GAAD;AACE,IAAA,KAAK,EAAEe,MAAM,CAACsB,GADhB;AAEE,IAAA,MAAM,MAFR;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,KAAK,EAAC,OAJR;AAKE,IAAA,OAAO,EAAE;AAAA,aAAOxC,eAAe,CAAC,IAAD,CAAtB;AAAA,KALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CA1EL,CADH;AAsFD;;AAED,IAAMkB,MAAM,GAAGuB,UAAU,CAACC,MAAX,CAAkB;AAC9BrB,EAAAA,SAAS,EAAE;AACVsB,IAAAA,SAAS,EAAE;AADD,GADmB;AAI/BxB,EAAAA,YAAY,EAAE;AACZyB,IAAAA,MAAM,EAAE;AADI,GAJiB;AAO/BxB,EAAAA,UAAU,EAAE,EAPmB;AAU/BE,EAAAA,IAAI,EAAE;AACJuB,IAAAA,SAAS,EAAE,QADP;AAEJC,IAAAA,QAAQ,EAAE,EAFN;AAGJC,IAAAA,cAAc,EAAE;AAHZ,GAVyB;AAe/BzC,EAAAA,IAAI,EAAE;AACJ0C,IAAAA,IAAI,EAAE,CADF;AAEJC,IAAAA,aAAa,EAAE,KAFX;AAGJC,IAAAA,MAAM,EAAE,EAHJ;AAIJC,IAAAA,gBAAgB,EAAE,EAJd;AAKJC,IAAAA,OAAO,EAAE,EALL;AAMJC,IAAAA,YAAY,EAAE;AANV,GAfyB;AAuB/B1B,EAAAA,SAAS,EAAE;AACTmB,IAAAA,QAAQ,EAAE,EADD;AAETQ,IAAAA,KAAK,EAAE;AAFE,GAvBoB;AA2B/B1B,EAAAA,QAAQ,EAAE;AACR0B,IAAAA,KAAK,EAAE;AADC,GA3BqB;AA8B/Bd,EAAAA,GAAG,EAAE;AACHe,IAAAA,QAAQ,EAAE,UADP;AAEHC,IAAAA,WAAW,EAAE,EAFV;AAGHC,IAAAA,KAAK,EAAE,CAHJ;AAIHC,IAAAA,MAAM,EAAE;AAJL,GA9B0B;AAoC/BzB,EAAAA,YAAY,EAAE;AACZe,IAAAA,IAAI,EAAE,CADM;AAEZW,IAAAA,cAAc,EAAE,QAFJ;AAGZC,IAAAA,UAAU,EAAE,QAHA;AAIZjB,IAAAA,SAAS,EAAE;AAJC,GApCiB;AA0C/BN,EAAAA,UAAU,EAAE;AACVS,IAAAA,QAAQ,EAAC;AADC,GA1CmB;AA6C/BV,EAAAA,SAAS,EAAE;AACTc,IAAAA,MAAM,EAAE,EADC;AAEThD,IAAAA,eAAe,EAAE,OAFR;AAGTmD,IAAAA,YAAY,EAAE,EAHL;AAITD,IAAAA,OAAO,EAAE,EAJA;AAKTQ,IAAAA,UAAU,EAAE,QALH;AAMTC,IAAAA,WAAW,EAAE,MANJ;AAOTC,IAAAA,YAAY,EAAE;AACZC,MAAAA,KAAK,EAAE,CADK;AAEZnB,MAAAA,MAAM,EAAE;AAFI,KAPL;AAWToB,IAAAA,aAAa,EAAE,IAXN;AAYTC,IAAAA,YAAY,EAAE,CAZL;AAaTC,IAAAA,SAAS,EAAE;AAbF,GA7CoB;AA4D/B5B,EAAAA,KAAK,EAAE;AACLyB,IAAAA,KAAK,EAAC,GADD;AAELnB,IAAAA,MAAM,EAAE,EAFH;AAGLM,IAAAA,MAAM,EAAE,EAHH;AAILiB,IAAAA,WAAW,EAAE,CAJR;AAKLf,IAAAA,OAAO,EAAE;AALJ,GA5DwB;AAmE/Bb,EAAAA,SAAS,EAAE;AACTwB,IAAAA,KAAK,EAAE,GADE;AAETd,IAAAA,aAAa,EAAE,KAFN;AAGTU,IAAAA,cAAc,EAAE;AAHP,GAnEoB;AAwE/B9B,EAAAA,QAAQ,EAAE;AACRmB,IAAAA,IAAI,EAAE,CADE;AAERC,IAAAA,aAAa,EAAE,KAFP;AAGRU,IAAAA,cAAc,EAAE,UAHR;AAIRC,IAAAA,UAAU,EAAE;AAJJ,GAxEqB;AA8E/B9B,EAAAA,IAAI,EAAE;AACJiC,IAAAA,KAAK,EAAE,EADH;AAEJnB,IAAAA,MAAM,EAAE,EAFJ;AAGJY,IAAAA,WAAW,EAAE;AAHT,GA9EyB;AAmF/BxB,EAAAA,MAAM,EAAE;AACN+B,IAAAA,KAAK,EAAE,EADD;AAENnB,IAAAA,MAAM,EAAE;AAFF;AAnFuB,CAAlB,CAAf;AAyFA,eAAezD,GAAf","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, { Component, useEffect, useState } from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Alert, TouchableOpacity, StyleSheet, Text, View, SafeAreaView, ScrollView, Modal, Pressable, TextInput, Button, RefreshControl, Image } from 'react-native';\r\nimport { FAB } from 'react-native-paper';\r\nimport { db } from './firebase';\r\nimport { collection, getDocs, addDoc, deleteDoc, doc } from 'firebase/firestore';\r\n\r\nconst wait = (timeout) => {\r\n  return new Promise(resolve => setTimeout(resolve, timeout));\r\n}\r\n\r\nfunction App(){\r\n  const [namaBaru, setNamaBaru] = useState(\"\");\r\n  const [nimBaru, setNimBaru] = useState(\"\");\r\n  const [editNama, setNama] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n  const [refreshing, setRefreshing] = React.useState(false);\r\n  const usersCollectionRef = collection(db, \"mahasiswa\");\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  var modalBackgroundStyle = {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\r\n  };\r\n\r\n  const klikSimpan = async () => {\r\n    await addDoc(usersCollectionRef, { nama: namaBaru, nim: nimBaru});\r\n    setModalVisible(false);\r\n    const data = await getDocs(usersCollectionRef);\r\n    setUsers(data.docs.map((doc) => ({ ...doc.data(), Id:doc.id})));\r\n  };\r\n\r\n  const deleteUser = async (id) => {\r\n    const userDoc = doc(db, \"mahasiswa\", id);\r\n    await deleteDoc(userDoc);\r\n    const data = await getDocs(usersCollectionRef);\r\n    setUsers(data.docs.map((doc) => ({ ...doc.data(), Id:doc.id})));\r\n  };\r\n\r\n  const updateUser = async (id, nama, nim) => {\r\n    setModalVisible(true);\r\n    setNama: nama;\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getUsers = async () => {\r\n      const data = await getDocs(usersCollectionRef);\r\n      setUsers(data.docs.map((doc) => ({ ...doc.data(), Id:doc.id})));\r\n    };\r\n\r\n    getUsers();\r\n  }, []);\r\n\r\n  const onRefresh = React.useCallback(() => {\r\n    setRefreshing(true);\r\n    wait(2000).then(() => setRefreshing(false));\r\n  }, []);\r\n\r\n\r\n  return(\r\n     <SafeAreaView style={styles.safeAreaView}>\r\n        <ScrollView style={styles.scrollView}\r\n          refreshControl={\r\n            <RefreshControl\r\n              refreshing={refreshing}\r\n              onRefresh={onRefresh}\r\n            />\r\n          }\r\n        >\r\n          <View style={styles.container}>\r\n            <Text style={styles.font}>Data Mahasiswa</Text>\r\n            <View>\r\n              {users.map((user) => {\r\n                return(\r\n                  <View style={[styles.data,{backgroundColor: 'hsl(' + (Math.floor(Math.random() * 360)) + ',80%,90%)'}]}>\r\n                    <View>\r\n                      <Text style={styles.labelNama}>{user.nama}</Text>\r\n                      <Text style={styles.labelNim}>{user.nim}</Text>\r\n                    </View>\r\n                    <View style={styles.iconPack}>\r\n                      <TouchableOpacity onPress={() =>  updateUser(user.Id, user.nama, user.nim)}>\r\n                        <Image style={styles.edit} source={require('./src/icon/edit.png')} />\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity onPress={() => deleteUser(user.Id)}>\r\n                        <Image style={styles.delete} source={require('./src/icon/trash.png')} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  </View>\r\n                );\r\n              })}\r\n            </View>\r\n          </View>\r\n        </ScrollView>\r\n        <View style={styles.centeredView}>\r\n            <Modal\r\n            animationType=\"fade\"\r\n            transparent={true}\r\n            visible={modalVisible}\r\n            onRequestClose={() => {\r\n              Alert.alert(\"Modal has been closed.\");\r\n              setModalVisible(!modalVisible);\r\n            }}\r\n          >\r\n              <View style={[styles.centeredView,modalBackgroundStyle]}>\r\n                <View style={styles.modalView}>\r\n                <Text style={styles.titleModal}>Masukan data mahasiswa</Text>\r\n                  <TextInput\r\n                    style={styles.input}\r\n                    placeholder=\"Nama\"\r\n                    value={editNama}\r\n                    onChangeText={setNamaBaru}\r\n                  />\r\n                  <TextInput\r\n                    style={styles.input}\r\n                    placeholder=\"NIM\"\r\n                    value={nimBaru}\r\n                    keyboardType=\"numeric\"\r\n                    onChangeText={setNimBaru}\r\n                  />\r\n                  <View style={styles.fixToText}>\r\n                    <Button\r\n                      title=\"Batal\"\r\n                      color=\"red\"\r\n                      onPress={() => setModalVisible(false)}\r\n                    />\r\n                    <Button\r\n                      title=\"Simpan\"\r\n                      onPress={klikSimpan}\r\n                    />\r\n                  </View>\r\n                </View>\r\n              </View>\r\n            </Modal>\r\n          </View>\r\n          <View>\r\n              <FAB\r\n                style={styles.fab}\r\n                medium\r\n                icon=\"plus\"\r\n                color=\"white\"\r\n                onPress={() =>  setModalVisible(true)}\r\n              />\r\n            </View>\r\n      </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n   container: {\r\n    marginTop: 10\r\n  },\r\n  safeAreaView: {\r\n    height: 650\r\n  },\r\n  scrollView: {\r\n  },\r\n  \r\n  font: {\r\n    textAlign: 'center',\r\n    fontSize: 32,\r\n    marginVertical: 30\r\n  },\r\n  data: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    margin: 10,\r\n    marginHorizontal: 20,\r\n    padding: 15,\r\n    borderRadius: 10\r\n  },\r\n  labelNama: {\r\n    fontSize: 20,\r\n    color: 'black'\r\n  },\r\n  labelNim: {\r\n    color: '#808080'\r\n  },\r\n  fab: {\r\n    position: 'absolute',\r\n    marginRight: 30,\r\n    right: 0,\r\n    bottom: 30,\r\n  },\r\n  centeredView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginTop: 22\r\n  },\r\n  titleModal: {\r\n    fontSize:20\r\n  },\r\n  modalView: {\r\n    margin: 20,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 20,\r\n    padding: 35,\r\n    alignItems: \"center\",\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 4,\r\n    elevation: 5\r\n  },\r\n  input: {\r\n    width:250,\r\n    height: 40,\r\n    margin: 12,\r\n    borderWidth: 1,\r\n    padding: 10,\r\n  },\r\n  fixToText: {\r\n    width: 200,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  iconPack: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center'\r\n  },\r\n  edit: {\r\n    width: 30,\r\n    height: 30,\r\n    marginRight: 10\r\n  },\r\n  delete: {\r\n    width: 30,\r\n    height: 30\r\n  }\r\n  })\r\n\r\nexport default App;\r\n\r\n"]},"metadata":{},"sourceType":"module"}